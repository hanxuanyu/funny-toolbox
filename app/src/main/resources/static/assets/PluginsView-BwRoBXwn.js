import{c as W,d as P,r as x,a as L,w as H,b as C,e as c,u as l,f as r,g as e,h as v,t as p,i as u,j as R,k as T,v as O,o as n,n as M,l as J,m as Q,F as I,p as G,q as K,s as N}from"./index-BF0lQLy4.js";import{g as X,_ as F,a as S,b as V}from"./_plugin-vue_export-helper-83qujIPt.js";import{_ as Y,a as Z,b as ee,c as te,d as se,g as ae,R as le,e as oe}from"./DialogTitle.vue_vue_type_script_setup_true_lang-BfVweRCs.js";import{_ as ne,a as re,b as ie,c as ce,d as ue,e as de}from"./index-CrJKsQrv.js";const U=W("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const fe=W("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);const ve=W("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const pe=W("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),me={class:"flex justify-between items-start"},he={class:"flex-1 pr-4"},ge={class:"flex gap-2 flex-shrink-0"},be={class:"flex-1 overflow-hidden"},xe={key:0,class:"flex items-center justify-center h-[70vh] text-gray-500"},_e={class:"h-full"},ye=["src","title"],we={key:1,class:"flex items-center justify-center h-[70vh] text-gray-500"},ke=P({__name:"PluginModal",props:{plugin:{},open:{type:Boolean}},emits:["update:open"],setup(h,{emit:o}){const i=h,f=o,m=x(!1),w=x(null),k=L({get:()=>i.open,set:g=>f("update:open",g)});H(()=>i.open,g=>{g&&d.value&&(m.value=!0)});const _=()=>{setTimeout(()=>{m.value=!1},100)},d=L(()=>{if(!i.plugin?.frontendEntry)return null;const g=X();return i.plugin.frontendEntry.startsWith("http://")||i.plugin.frontendEntry.startsWith("https://")?i.plugin.frontendEntry:i.plugin.frontendEntry.startsWith("/")?g+i.plugin.frontendEntry:`${g}/${i.plugin.frontendEntry}`}),j=()=>{d.value&&(window.open(d.value,"_blank"),k.value=!1)};return(g,$)=>(n(),C(l(Y),{open:k.value,"onUpdate:open":$[0]||($[0]=y=>k.value=y)},{default:c(()=>[r(l(se),{class:"sm:max-w-[90vw] lg:max-w-[1400px] max-h-[90vh] p-0 overflow-hidden gap-0"},{default:c(()=>[r(l(Z),{class:"px-6 pt-4 pb-3 pr-14 border-b flex-shrink-0"},{default:c(()=>[e("div",me,[e("div",he,[r(l(ee),null,{default:c(()=>[v(p(h.plugin?.name),1)]),_:1}),r(l(te),null,{default:c(()=>[v(p(h.plugin?.description),1)]),_:1})]),e("div",ge,[r(l(F),{variant:"outline",size:"sm",onClick:j,title:"åœ¨æ–°çª—å£ä¸­æ‰“å¼€"},{default:c(()=>[r(l(U),{class:"h-4 w-4"})]),_:1})])])]),_:1}),e("div",be,[m.value?(n(),u("div",xe,[...$[1]||($[1]=[e("div",{class:"text-center"},[e("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mb-2"}),e("p",null,"åŠ è½½ä¸­...")],-1)])])):R("",!0),T(e("div",_e,[d.value?(n(),u("iframe",{key:0,ref_key:"iframeRef",ref:w,src:d.value,class:"w-full h-[70vh] border-0 block",title:h.plugin?.name,onLoad:_},null,40,ye)):(n(),u("div",we," æ­¤æ’ä»¶æš‚æ— å‰ç«¯é¡µé¢ "))],512),[[O,!m.value]])])]),_:1})]),_:1},8,["open"]))}}),$e=S(ke,[["__scopeId","data-v-7c58342a"]]),Ce={key:0,class:"inline-block text-inherit"},Le={key:2,class:"material-icons"},Fe=["innerHTML"],We=["src","alt"],je={key:5,class:"inline-block"},Ee=P({__name:"PluginIcon",props:{icon:{default:""},alt:{default:"icon"},defaultIcon:{default:"ðŸ§°"}},setup(h){const o=h,i=L(()=>o.icon?o.icon.startsWith("fa:")?"fa":o.icon.startsWith("md:")?"md":o.icon.startsWith("svg:")||o.icon.startsWith("data:image/svg")?"svg":o.icon.startsWith("http://")||o.icon.startsWith("https://")||o.icon.startsWith("/")?"url":(o.icon.length<=4&&/[\u{1F300}-\u{1F9FF}]|[\u{2600}-\u{26FF}]|[\u{2700}-\u{27BF}]/u.test(o.icon),"emoji"):"default"),f=L(()=>o.icon?o.icon.startsWith("fa:")||o.icon.startsWith("md:")?o.icon.substring(3):o.icon.startsWith("svg:")?o.icon.substring(4):o.icon:o.defaultIcon);return(m,w)=>i.value==="emoji"?(n(),u("span",Ce,p(f.value),1)):i.value==="fa"?(n(),u("i",{key:1,class:M(f.value)},null,2)):i.value==="md"?(n(),u("i",Le,p(f.value),1)):i.value==="svg"?(n(),u("span",{key:3,class:"inline-flex items-center justify-center w-16 h-16",innerHTML:f.value},null,8,Fe)):i.value==="url"?(n(),u("img",{key:4,src:f.value,alt:h.alt,class:"inline-block w-16 h-16 object-contain"},null,8,We)):(n(),u("span",je,p(h.defaultIcon),1))}}),Ie=S(Ee,[["__scopeId","data-v-510d61cc"]]),Me={class:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex flex-col relative overflow-hidden"},Pe={class:"flex-1 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16 w-full relative z-10"},Se={class:"max-w-2xl mx-auto mb-12"},Be={class:"relative group"},ze={key:0,class:"flex justify-center items-center py-20"},Ne={class:"text-center text-gray-500"},Ve={class:"text-lg mb-2"},Re={key:0,class:"text-sm"},Te={key:3,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4"},Ue=["onClick","title"],qe={class:"flex items-start gap-3"},Ae={class:"flex-shrink-0 w-12 h-12 flex items-center justify-center text-4xl group-hover:scale-110 transition-transform bg-gradient-to-br from-blue-100/80 to-indigo-100/80 backdrop-blur-sm rounded-lg shadow-inner"},De={class:"flex-1 min-w-0"},He={class:"mt-2.5 flex items-center justify-between text-xs text-gray-500"},Oe={class:"truncate"},Je=["onClick"],Qe={class:"mt-auto py-6 border-t border-white/30 bg-white/40 backdrop-blur-md flex-shrink-0 relative z-10 shadow-lg"},Ge={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Ke={class:"flex flex-col sm:flex-row justify-between items-center gap-4"},Xe={class:"flex items-center gap-3"},Ye=P({__name:"PluginsView",setup(h){const o=K(),i=x([]),f=x(!1),m=x(""),w=x(!1),k=x(null),_=x(""),d=x(new Set),j=()=>{try{const a=localStorage.getItem("plugin_favorites");a&&(d.value=new Set(JSON.parse(a)))}catch(a){console.error("åŠ è½½æ”¶è—å¤±è´¥:",a)}},g=()=>{try{localStorage.setItem("plugin_favorites",JSON.stringify(Array.from(d.value)))}catch(a){console.error("ä¿å­˜æ”¶è—å¤±è´¥:",a)}},$=(a,s)=>{s.stopPropagation(),d.value.has(a)?d.value.delete(a):d.value.add(a),g()},y=a=>d.value.has(a),B=L(()=>localStorage.getItem("isAuthenticated")==="true"),E=L(()=>{const a=i.value.filter(t=>t.status==="ENABLED");let s=a;if(_.value.trim()){const t=_.value.toLowerCase();s=a.filter(b=>b.name.toLowerCase().includes(t)||b.description?.toLowerCase().includes(t)||b.author?.toLowerCase().includes(t))}return s.sort((t,b)=>{const D=y(t.id)?1:0;return(y(b.id)?1:0)-D})}),z=async()=>{f.value=!0,m.value="";try{const a=await ae();i.value=a.data.data||[],console.log("åŠ è½½çš„æ’ä»¶åˆ—è¡¨:",i.value),console.log("å·²å¯ç”¨çš„æ’ä»¶:",E.value)}catch(a){m.value=a.message||"åŠ è½½æ’ä»¶åˆ—è¡¨å¤±è´¥",console.error("åŠ è½½æ’ä»¶å¤±è´¥:",a)}finally{f.value=!1}},q=a=>{if(!a.frontendEntry){alert("æ­¤æ’ä»¶æš‚æ— å‰ç«¯é¡µé¢");return}k.value=a,w.value=!0},A=a=>{if(!a.frontendEntry){alert("æ­¤æ’ä»¶æš‚æ— å‰ç«¯é¡µé¢");return}const s="";let t=a.frontendEntry;!t.startsWith("http://")&&!t.startsWith("https://")&&(t.startsWith("/")?t=s+t:t=`${s}/${t}`),window.open(t,"_blank","noopener,noreferrer")};return J(()=>{j(),z()}),(a,s)=>(n(),u("div",Me,[s[11]||(s[11]=e("div",{class:"absolute inset-0 overflow-hidden pointer-events-none"},[e("div",{class:"absolute -top-1/2 -left-1/2 w-full h-full bg-gradient-to-br from-blue-200/20 to-transparent rounded-full blur-3xl"}),e("div",{class:"absolute -bottom-1/2 -right-1/2 w-full h-full bg-gradient-to-tl from-purple-200/20 to-transparent rounded-full blur-3xl"}),e("div",{class:"absolute top-1/4 left-1/3 w-96 h-96 bg-indigo-200/10 rounded-full blur-3xl"})],-1)),e("main",Pe,[s[6]||(s[6]=e("div",{class:"text-center mb-12"},[e("h1",{class:"text-5xl sm:text-6xl font-bold bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 bg-clip-text text-transparent mb-4 drop-shadow-sm"}," Funny Toolbox "),e("p",{class:"text-lg text-gray-600/80"},"ä¸€ä¸ªå¯æ‰©å±•çš„å·¥å…·å¹³å°")],-1)),e("div",Se,[e("div",Be,[r(l(fe),{class:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 group-focus-within:text-blue-500 transition-colors"}),T(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>_.value=t),type:"text",placeholder:"æœç´¢ä½ éœ€è¦çš„å·¥å…·...",class:"w-full pl-12 pr-4 py-4 text-lg border-0 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-400/50 transition-all bg-white/60 backdrop-blur-md shadow-lg hover:shadow-xl hover:bg-white/70"},null,512),[[Q,_.value]])])]),f.value?(n(),u("div",ze,[...s[4]||(s[4]=[e("div",{class:"text-center bg-white/60 backdrop-blur-md rounded-2xl p-8 shadow-lg"},[e("div",{class:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),e("p",{class:"text-gray-600"},"åŠ è½½ä¸­...")],-1)])])):m.value?(n(),C(l(ne),{key:1,variant:"destructive",class:"max-w-2xl mx-auto mb-8 bg-white/60 backdrop-blur-md border-0 shadow-lg"},{default:c(()=>[r(l(re),null,{default:c(()=>[v(p(m.value),1)]),_:1})]),_:1})):E.value.length===0?(n(),C(l(V),{key:2,class:"max-w-2xl mx-auto p-12 bg-white/60 backdrop-blur-md border-0 shadow-lg"},{default:c(()=>[e("div",Ne,[e("p",Ve,p(_.value?"æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„å·¥å…·":"æš‚æ— å¯ç”¨çš„æ’ä»¶"),1),_.value?R("",!0):(n(),u("p",Re,[B.value?(n(),u(I,{key:0},[v(" è¯·å‰å¾€ç®¡ç†åŽå°ä¸Šä¼ æ’ä»¶ ")],64)):(n(),u(I,{key:1},[v(" è¯·è”ç³»ç®¡ç†å‘˜ä¸Šä¼ æ’ä»¶ ")],64))]))])]),_:1})):(n(),u("div",Te,[(n(!0),u(I,null,G(E.value,t=>(n(),C(l(V),{key:t.id,class:"group hover:shadow-2xl transition-all duration-300 overflow-hidden border-0 bg-white/60 backdrop-blur-md hover:bg-white/70 hover:scale-[1.02] cursor-pointer relative",onClick:b=>q(t)},{default:c(()=>[e("button",{onClick:N(b=>$(t.id,b),["stop"]),class:M(["absolute top-3 right-3 z-10 p-1.5 rounded-full transition-all duration-200 hover:bg-white/80 backdrop-blur-sm",y(t.id)?"text-yellow-500":"text-gray-400 hover:text-yellow-500"]),title:y(t.id)?"å–æ¶ˆæ”¶è—":"æ”¶è—"},[r(l(pe),{class:M([y(t.id)?"fill-current":"","h-4 w-4"])},null,8,["class"])],10,Ue),r(l(ie),{class:"pb-0 pr-12"},{default:c(()=>[e("div",qe,[e("div",Ae,[r(Ie,{icon:t.icon,alt:t.name},null,8,["icon","alt"])]),e("div",De,[r(l(ce),{class:"text-base font-semibold group-hover:text-blue-600 transition-colors line-clamp-2 leading-tight mb-1"},{default:c(()=>[v(p(t.name),1)]),_:2},1024),r(l(oe),{variant:"outline",class:"text-xs px-1.5 py-0 bg-white/50 backdrop-blur-sm border-gray-300/50"},{default:c(()=>[v(" v"+p(t.version),1)]),_:2},1024)])])]),_:2},1024),r(l(ue),{class:"pt-1.5 pb-3"},{default:c(()=>[r(l(de),{class:"line-clamp-3 text-sm text-gray-600 leading-relaxed"},{default:c(()=>[v(p(t.description||"æš‚æ— æè¿°"),1)]),_:2},1024),e("div",He,[e("span",Oe,p(t.author),1),e("button",{onClick:N(b=>A(t),["stop"]),class:"flex items-center gap-1 px-2 py-1 rounded-md text-blue-500 hover:text-blue-600 hover:bg-blue-50/80 transition-all duration-200 group/link",title:"åœ¨æ–°çª—å£ä¸­æ‰“å¼€"},[r(l(U),{class:"h-3.5 w-3.5 group-hover/link:scale-110 transition-transform"}),s[5]||(s[5]=e("span",{class:"text-xs font-medium"},"æ–°çª—å£",-1))],8,Je)])]),_:2},1024)]),_:2},1032,["onClick"]))),128))]))]),r($e,{open:w.value,"onUpdate:open":s[1]||(s[1]=t=>w.value=t),plugin:k.value},null,8,["open","plugin"]),e("footer",Qe,[e("div",Ge,[e("div",Ke,[s[10]||(s[10]=e("div",{class:"text-sm text-gray-600"},[e("p",null,"Â© 2025 Funny Toolbox. ä¸€ä¸ªå¯æ‰©å±•çš„å·¥å…·å¹³å°.")],-1)),e("div",Xe,[r(l(F),{variant:"ghost",size:"sm",onClick:z,title:"åˆ·æ–°",class:"text-gray-600 hover:text-gray-800 hover:bg-white/50 backdrop-blur-sm"},{default:c(()=>[r(l(le),{class:"h-4 w-4 mr-1.5"}),s[7]||(s[7]=v(" åˆ·æ–° ",-1))]),_:1}),B.value?(n(),C(l(F),{key:0,variant:"ghost",size:"sm",onClick:s[2]||(s[2]=t=>l(o).push("/admin")),class:"text-gray-600 hover:text-gray-800 hover:bg-white/50 backdrop-blur-sm"},{default:c(()=>[r(l(ve),{class:"h-4 w-4 mr-1.5"}),s[8]||(s[8]=v(" ç®¡ç† ",-1))]),_:1})):(n(),C(l(F),{key:1,variant:"ghost",size:"sm",onClick:s[3]||(s[3]=t=>l(o).push("/login")),class:"text-gray-600 hover:text-gray-800 hover:bg-white/50 backdrop-blur-sm"},{default:c(()=>[...s[9]||(s[9]=[v(" ç™»å½• ",-1)])]),_:1}))])])])])]))}}),lt=S(Ye,[["__scopeId","data-v-fc61a364"]]);export{lt as default};
