import{d as v,s as g,r as c,i as f,f as a,e as t,u as s,h as l,g as u,b,j as V,t as $,x as k,q,y as B,o as i}from"./index-BA3lOLYb.js";import{_,a as p,l as N}from"./Label.vue_vue_type_script_setup_true_lang-Ceqn3DMg.js";import{b as h,_ as C,a as L}from"./_plugin-vue_export-helper-Bq1scCNV.js";import{b as S,c as j,e as D,d as I,a as R,_ as T,f as U}from"./index-BmRzoQIY.js";const A={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4 sm:px-6 lg:px-8"},E={class:"space-y-2"},F={class:"space-y-2"},M={key:0},z={key:1},G=v({__name:"LoginView",setup(H){const x=q(),y=B(),o=g({username:"",password:""}),r=c(!1),n=c(""),w=async()=>{n.value="",r.value=!0;try{await N(o),localStorage.setItem("isAuthenticated","true");const d=y.query.redirect||"/admin";x.push(d)}catch(d){n.value=d.message||"登录失败，请检查用户名和密码"}finally{r.value=!1}};return(d,e)=>(i(),f("div",A,[a(s(h),{class:"w-full max-w-md shadow-xl"},{default:t(()=>[a(s(S),{class:"space-y-1"},{default:t(()=>[a(s(j),{class:"text-2xl font-bold text-center"},{default:t(()=>[...e[2]||(e[2]=[l("Funny Toolbox",-1)])]),_:1}),a(s(D),{class:"text-center"},{default:t(()=>[...e[3]||(e[3]=[l(" 登录后台管理系统 ",-1)])]),_:1})]),_:1}),a(s(I),null,{default:t(()=>[u("form",{onSubmit:k(w,["prevent"]),class:"space-y-4"},[u("div",E,[a(s(_),{for:"username"},{default:t(()=>[...e[4]||(e[4]=[l("用户名",-1)])]),_:1}),a(s(p),{id:"username",modelValue:o.username,"onUpdate:modelValue":e[0]||(e[0]=m=>o.username=m),type:"text",placeholder:"请输入用户名",required:"",autocomplete:"username"},null,8,["modelValue"])]),u("div",F,[a(s(_),{for:"password"},{default:t(()=>[...e[5]||(e[5]=[l("密码",-1)])]),_:1}),a(s(p),{id:"password",modelValue:o.password,"onUpdate:modelValue":e[1]||(e[1]=m=>o.password=m),type:"password",placeholder:"请输入密码",required:"",autocomplete:"current-password"},null,8,["modelValue"])]),n.value?(i(),b(s(T),{key:0,variant:"destructive"},{default:t(()=>[a(s(R),null,{default:t(()=>[l($(n.value),1)]),_:1})]),_:1})):V("",!0),a(s(C),{type:"submit",class:"w-full",disabled:r.value},{default:t(()=>[r.value?(i(),f("span",M,"登录中...")):(i(),f("span",z,"登录"))]),_:1},8,["disabled"])],32)]),_:1}),a(s(U),{class:"text-center text-sm text-gray-500"},{default:t(()=>[...e[6]||(e[6]=[u("p",{class:"w-full"},"登录后可管理平台插件",-1)])]),_:1})]),_:1})]))}}),Q=L(G,[["__scopeId","data-v-7a14cd2f"]]);export{Q as default};
