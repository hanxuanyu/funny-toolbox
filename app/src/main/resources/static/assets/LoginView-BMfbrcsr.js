import{d as w,b as c,n as g,u as s,y as V,z as $,o as l,A as k,r as x,j as a,i as t,k as r,f as i,h as B,l as C,t as h,e as N,B as S,x as q}from"./index-BRDRm-ST.js";import{_ as y,a as v,l as L}from"./Label.vue_vue_type_script_setup_true_lang-BKtn5TeU.js";import{b as j,_ as z,a as A}from"./_plugin-vue_export-helper-CAQSazNp.js";import{b as D,c as F,e as I,d as R,a as T,_ as U}from"./index-1MXzArfG.js";const E=w({__name:"CardFooter",props:{class:{}},setup(_){const m=_;return(f,o)=>(l(),c("div",{"data-slot":"card-footer",class:g(s(V)("flex items-center px-6 [.border-t]:pt-6",m.class))},[$(f.$slots,"default")],2))}}),M={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4 sm:px-6 lg:px-8"},G={class:"space-y-2"},H={class:"space-y-2"},J={key:0},K={key:1},O=w({__name:"LoginView",setup(_){const m=q(),f=S(),o=k({username:"",password:""}),n=x(!1),d=x(""),b=async()=>{d.value="",n.value=!0;try{await L(o),localStorage.setItem("isAuthenticated","true");const u=f.query.redirect||"/admin";m.push(u)}catch(u){d.value=u.message||"登录失败，请检查用户名和密码"}finally{n.value=!1}};return(u,e)=>(l(),c("div",M,[a(s(j),{class:"w-full max-w-md shadow-xl"},{default:t(()=>[a(s(D),{class:"space-y-1"},{default:t(()=>[a(s(F),{class:"text-2xl font-bold text-center"},{default:t(()=>[...e[2]||(e[2]=[r("Funny Toolbox",-1)])]),_:1}),a(s(I),{class:"text-center"},{default:t(()=>[...e[3]||(e[3]=[r(" 登录后台管理系统 ",-1)])]),_:1})]),_:1}),a(s(R),null,{default:t(()=>[i("form",{onSubmit:N(b,["prevent"]),class:"space-y-4"},[i("div",G,[a(s(y),{for:"username"},{default:t(()=>[...e[4]||(e[4]=[r("用户名",-1)])]),_:1}),a(s(v),{id:"username",modelValue:o.username,"onUpdate:modelValue":e[0]||(e[0]=p=>o.username=p),type:"text",placeholder:"请输入用户名",required:"",autocomplete:"username"},null,8,["modelValue"])]),i("div",H,[a(s(y),{for:"password"},{default:t(()=>[...e[5]||(e[5]=[r("密码",-1)])]),_:1}),a(s(v),{id:"password",modelValue:o.password,"onUpdate:modelValue":e[1]||(e[1]=p=>o.password=p),type:"password",placeholder:"请输入密码",required:"",autocomplete:"current-password"},null,8,["modelValue"])]),d.value?(l(),B(s(U),{key:0,variant:"destructive"},{default:t(()=>[a(s(T),null,{default:t(()=>[r(h(d.value),1)]),_:1})]),_:1})):C("",!0),a(s(z),{type:"submit",class:"w-full",disabled:n.value},{default:t(()=>[n.value?(l(),c("span",J,"登录中...")):(l(),c("span",K,"登录"))]),_:1},8,["disabled"])],32)]),_:1}),a(s(E),{class:"text-center text-sm text-gray-500"},{default:t(()=>[...e[6]||(e[6]=[i("p",{class:"w-full"},"登录后可管理平台插件",-1)])]),_:1})]),_:1})]))}}),Y=A(O,[["__scopeId","data-v-7a14cd2f"]]);export{Y as default};
